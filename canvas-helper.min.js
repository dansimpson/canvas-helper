!function(t){function i(t){this.el=t,this.resize(),this.x1=1/0,this.x2=-1/0,this.y1=1/0,this.y2=-1/0}i.prototype={x:function(t){return(t-this.x1)/(this.x2-this.x1)*this.width},y:function(t){return this.height-(t-this.y1)/(this.y2-this.y1)*this.height},h:function(t){return t/(this.y2-this.y1)*this.height},w:function(t){return t/(this.x2-this.x1)*this.width},rx:function(t){return t/this.width*(this.x2-this.x1)+this.x1},ry:function(t){return this.y2-t/this.height*(this.y2-this.y1)},range:function(t,i){this.y1=Math.min(t,this.y1),this.y2=Math.max(i,this.y2)},domain:function(t,i){this.x1=Math.min(t,this.x1),this.x2=Math.max(i,this.x2)},auto:function(t){if(!(t instanceof Array))return void console.warn("auto scale requires array");if(isNaN(t[0])&&t[0]instanceof Array)for(var i=0;i<t.length;i++)this.range(t[i][1],t[i][1]),this.domain(t[i][0],t[i][0]);else this.domain(0,t.length),this.range(Math.min.apply(Math,t),Math.max.apply(Math,t))},resize:function(){var t=this.el.getBoundingClientRect();this.width=t.width,this.height=t.height}},t.$canvas=function(t,h){var n=new i(h),e=document.createElement("canvas"),s=e.getContext("2d");e.style.position="absolute",e.setAttribute("height",n.height),e.setAttribute("width",n.width),h.appendChild(e),window.addEventListener("resize",function(){n.resize(),e.setAttribute("height",n.height),e.setAttribute("width",n.width),t(s,n)}),t(s,n)}}(window);